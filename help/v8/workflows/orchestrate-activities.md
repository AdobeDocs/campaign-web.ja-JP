---
audience: end-user
title: Adobe Campaign Web でのワークフローの作成
description: Adobe Campaign Web を使用してワークフローを作成する方法
exl-id: 0c8e2158-518c-4620-9971-00ed2eccdd4f
source-git-commit: acc2383edbca7b528098c1ddbd18efb3110d4354
workflow-type: tm+mt
source-wordcount: '1088'
ht-degree: 60%

---

# アクティビティをオーケストレーション {#orchestrate}

ワークフローメニューまたはキャンペーン内で[ワークフローを作成](create-workflow.md)したら、実行される様々なタスクの調整を開始できます。これを行うために、ワークフローダイアグラムを構築できる視覚的なキャンバスが用意されています。このダイアグラムに様々なアクティビティを追加し、順番に接続できます。

## アクティビティを追加 {#add}

設定のこの段階では、ダイアグラムには、ワークフローの開始を表す「開始」アイコンが表示されます。最初のアクティビティを追加するには、「開始」アイコンに接続されている「**+**」ボタンをクリックします。

ダイアグラムに追加できるアクティビティのリストが表示されます。使用可能なアクティビティは、ワークフローダイアグラム内の位置によって異なります。例えば、最初のアクティビティを追加する際に、オーディエンスをターゲティング、ワークフローパスを分割、またはワークフローの実行を遅らせる「**待機**」アクティビティを設定して、ワークフローを開始できます。一方、 **オーディエンスを作成** アクティビティを使用すると、ターゲティングアクティビティでターゲットを絞り込んだり、チャネルアクティビティでオーディエンスに配信を送信したり、フロー制御アクティビティでワークフロープロセスを整理したりできます。

![](assets/workflow-start.png){zoomable=&quot;yes&quot;}

アクティビティがダイアグラムに追加されると、右側のパネルが表示され、新しく追加されたアクティビティを特定の設定で設定できます。各アクティビティの設定方法について詳しくは、[この節](activities/about-activities.md)を参照してください。

![](assets/workflow-configure-activities.png){zoomable=&quot;yes&quot;}

このプロセスを繰り返し、ワークフローで実行するタスクに応じて、必要な数のアクティビティを追加します。 また、2 つのアクティビティの間に新しいアクティビティを挿入することもできます。 これを行うには、アクティビティ間のトランジションで「**+**」ボタンをクリックし、目的のアクティビティを選択して、右側のパネルで設定します。

アクティビティを削除するには、キャンバスでアクティビティを選択し、アクティビティプロパティの「**削除**」アイコンをクリックします。

>[!TIP]
>
>各アクティビティ間のトランジションの名前をパーソナライズすることもできます。これを行うには、トランジションを選択し、右側のパネルでそのラベルを変更します。

## ツールバー {#toolbar}

キャンバスの右上隅にあるツールバーには、アクティビティを簡単に操作し、キャンバス内を移動するためのオプションが用意されています。

* **複数選択モード**：複数のアクティビティを選択してすべてを一度に削除するか、コピーして貼り付けます。 詳しくは、[このセクション](#copy)を参照してください。
* **回転**：キャンバスを垂直方向に切り替えます。
* **画面に合わせる**：キャンバスのズームレベルを画面に合わせて調整します。
* **ズームアウト**／**ズームイン**：キャンバスをズームアウトまたはズームインします。
* **マップを表示**：現在の位置を示すキャンバスのスナップショットを開きます。

![](assets/workflow-toolbar.png){zoomable=&quot;yes&quot;}{width="50%"}

## アクティビティを管理 {#manage}

アクティビティを追加すると、プロパティペインにアクションボタンが表示され、複数の操作を実行できます。 以下を行うことができます。

* キャンバスからアクティビティを「**削除**」します。
* アクティビティを「**無効／有効**」にします。ワークフローを実行すると、無効になっているアクティビティと、同じパス上にある後続のアクティビティは実行されず、ワークフローが停止します。
* アクティビティを「**コピー**」します。詳しくは、[このセクション](#copy)を参照してください。
* アクティビティの「**ログとタスク**」にアクセスします。
* アクティビティを「**一時停止／再開**」します。ワークフローを実行すると、一時停止したアクティビティで一時停止します。対応するタスクと、同じパス内でそのタスクに続くすべてのタスクが実行されません。

![](assets/activity-action.png){zoomable=&quot;yes&quot;}{width="50%"}

「**結合**」や「**重複排除**」などの&#x200B;**ターゲティング**&#x200B;アクティビティを使用すると、残りの母集団を処理し、追加のアウトバウンドトランジションに含めることができます。例えば、**分割**&#x200B;アクティビティを使用している場合、補集合は、以前に定義されたサブセットのいずれにも一致しなかった母集団で構成されます。この機能を使用するには、「**補集合を生成**」オプションを有効化します。

![](assets/workflow-split-complement.png)

## アクティビティをコピー {#copy}

ワークフローアクティビティをコピーして、任意のワークフローに貼り付けることができます。 宛先ワークフローは、別のブラウザータブに配置できます。

アクティビティをコピーするには、次の 2 つの方法があります。

* アクションボタンを使用してアクティビティを 1 つコピーします。

  ![](assets/workflow-copy.png){zoomable=&quot;yes&quot;}{width="70%"}

* ツールバーボタンを使用して複数のアクティビティをコピーします。

  ![](assets/workflow-copy-2.png){zoomable=&quot;yes&quot;}{width="70%"}

コピーしたアクティビティを貼り付けるには、 **+** ボタンをクリックし、「X アクティビティを貼り付け」を選択します。

![](assets/workflow-copy-3.png){zoomable=&quot;yes&quot;}{width="50%"}

## 「EXECUTION OPTIONS」タブ {#execution}

すべてのアクティビティで、実行オプションを管理できます。 アクティビティを選択し、 **実行オプション** ボタン。 これにより、アクティビティの実行モードと、エラーが発生した場合の動作を定義できます。

![](assets/workflow-execution-options.png){zoomable=&quot;yes&quot;}{width="70%"}

### プロパティ

この **実行** フィールドでは、タスクの開始時に実行するアクションを定義できます。

この **最大実行時間** フィールドでは、「30 秒」や「1 時間」などの期間を指定できます。 指定された期間が経過した後にアクティビティが完了しない場合は、アラートがトリガーされます。 これは、ワークフローの機能には影響しません。

この **タイムゾーン** フィールドでは、アクティビティのタイムゾーンを選択できます。 Adobe Campaignでは、同じインスタンス上の複数の国の時間差を管理できます。 適用される設定は、インスタンスの作成時に設定されます。

**アフィニティ** フィールドを使用すると、特定のマシン上でワークフローまたはワークフローアクティビティを強制的に実行できます。 それには、対象のワークフローまたはアクティビティに 1 つまたは複数のアフィニティを指定する必要があります。

この **動作** フィールドでは、非同期タスクが使用された場合に従う手順を定義できます。

### エラー管理

この **エラーの場合** フィールドでは、アクティビティでエラーが発生した場合に実行するアクションを指定できます。

### 初期化スクリプト

この **初期化スクリプト** 変数を初期化したり、アクティビティのプロパティを変更したりできます。 「」をクリックします **コードを編集** ボタンをクリックし、実行するコードのスニペットを入力します。 スクリプトは、アクティビティの実行時に呼び出されます。 関連する節を参照してください。 [イベント変数](../workflows/event-variables.md).

## 例 {#example}

次に、コーヒーマシンに関心のあるすべての顧客（VIP 顧客を除く）にメールを送信するように設計されたワークフローの例を示します。

![](assets/workflow-example.png){zoomable=&quot;yes&quot;}{zoomable=&quot;yes&quot;}

これを実現するために、以下のアクティビティが追加されました。

* ワークフローを 3 つのパス（顧客の組ごとに 1 つ）に分割する&#x200B;**[!UICONTROL 分岐]**&#x200B;アクティビティ。
* **[!UICONTROL オーディエンスを作成]**&#x200B;アクティビティを使用して、3 組の顧客をターゲットに設定します。

   * メールを送信した顧客。
   * 「コーヒーマシンに関心のある」既存のオーディエンスに属する顧客。
   * 既存の「VIP」オーディエンスまたは「報酬」オーディエンスに属する顧客。

* メールを送信した顧客とコーヒーマシンに関心のある顧客をグループ化する&#x200B;**[!UICONTROL 結合]**&#x200B;アクティビティ。
* VIP 顧客を除外する&#x200B;**[!UICONTROL 結合]**&#x200B;アクティビティ。
* 結果の顧客にメールを送信する&#x200B;**[!UICONTROL メール配信]**&#x200B;アクティビティ。

ワークフローを完了したら、ダイアグラムの最後に&#x200B;**[!UICONTROL 終了]** アクティビティを追加します。このアクティビティを使用すると、ワークフローの終了を視覚的に示すことができ、機能には影響はありません。

ワークフローダイアグラムのデザインが完了したら、ワークフローを実行し、様々なタスクの進行状況を追跡できます。[ワークフローを開始し、その実行を監視する方法については、こちらを参照してください](start-monitor-workflows.md)
