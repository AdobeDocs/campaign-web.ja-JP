---
audience: end-user
title: 結合ワークフローアクティビティの使用
description: 結合ワークフローアクティビティの使用方法を学ぶ
exl-id: 7e821678-e6a2-4613-b05e-6ccbe4df41c3
source-git-commit: d6c6aac9d9127a770732b709873008613ae8c639
workflow-type: tm+mt
source-wordcount: '0'
ht-degree: 0%

---

# 結合 {#combine}

>[!CONTEXTUALHELP]
>id="acw_orchestration_combine"
>title="アクティビティを結合"
>abstract="**結合**&#x200B;アクティビティでは、インバウンド母集団に対してセグメント化を実行できます。いくつかの母集団を組み合わせて、一部を除外したり、複数のターゲットに共通するデータのみを保持したりできます。"

**エンリッチメント**&#x200B;アクティビティは、**ターゲティング**&#x200B;アクティビティです。このアクティビティを使用すると、インバウンド母集団に対してセグメント化を実行できます。いくつかの母集団を組み合わせて、一部を除外したり、複数のターゲットに共通するデータのみを保持したりできます。使用可能なセグメント化のタイプを次に示します。

<!--
The **Combine** activity can be placed after any other activity, but not at the beginning of the workflow. Any activity can be placed after the **Combine**.
-->

* **和集合**&#x200B;では、複数のアクティビティの結果を単一のターゲットに再グループ化します。
* **積集合**&#x200B;では、アクティビティ内の異なるインバウンド母集団に共通する要素のみを保持します。
* **除外**&#x200B;では、特定の条件に従って、ある母集団から要素を除外します。

## 結合アクティビティを設定 {#combine-configuration}

>[!CONTEXTUALHELP]
>id="acw_orchestration_intersection_merging_options"
>title="積集合の結合オプション"
>abstract="積集合では、アクティビティ内の異なるインバウンド母集団に共通する要素のみを保持します。「結合の設定」セクションで、結合する前のアクティビティをすべてオンにします。"

>[!CONTEXTUALHELP]
>id="acw_orchestration_exclusion_merging_options"
>title="除外の結合オプション"
>abstract="除外では、特定の条件に従って、ある母集団から要素を除外します。「結合の設定」セクションで、結合する前のアクティビティをすべてオンにします。"

>[!CONTEXTUALHELP]
>id="acw_orchestration_combine_options"
>title="セグメント化タイプを選択"
>abstract="オーディエンスを結合する方法を選択します。**和集合**&#x200B;では、複数のアクティビティの結果を単一のターゲットに再グループ化します。**積集合**&#x200B;では、アクティビティ内の異なるインバウンド母集団に共通する要素のみを保持します。**除外**&#x200B;では、特定の条件に従って、ある母集団から要素を除外します。"

**結合**&#x200B;アクティビティを設定するには、次の一般的な手順に従います。

![](../assets/workflow-combine.png)

1. **オーディエンスを作成**&#x200B;アクティビティなどの複数のアクティビティを追加して、2 つ以上の異なる実行分岐を形成します。
1. **結合**&#x200B;アクティビティを前のいずれかの分岐に追加します。
1. [和集合](#union)、[積集合](#intersection)または[除外](#exclusion)のセグメント化タイプを選択します。
1. 「**続行**」をクリックします。
1. 「**結合の設定**」セクションで、結合する前のアクティビティをすべてオンにします。

## 和集合 {#combine-union}

>[!CONTEXTUALHELP]
>id="acw_orchestration_combine_reconciliation"
>title="紐付けオプション"
>abstract="「**紐付けタイプ**」を選択して、重複の処理方法を定義します。デフォルトでは、「**キー**」オプションがアクティブ化されます。つまり、アクティビティは、異なるインバウンドトランジションの要素が同じキーを持つ場合、1 つの要素のみを保持します。「**列の選択**」オプションを使用して、データの紐付けが適用される列のリストを定義します。"

**結合**&#x200B;アクティビティで、「**紐付けタイプ**」を選択して、**和集合**&#x200B;を設定し、重複の処理方法を定義します。

* **キーのみ**：これはデフォルトのモードです。アクティビティは、異なるインバウンドトランジションの要素が同じキーを持つ場合、1 つの要素のみを保持します。このオプションは、インバウンド母集団が同質である場合にのみ使用できます。
* **列の選択**：データの紐付けが適用される列のリストを定義する際に選択するオプションです。最初にプライマリセット（ソースデータ）を選択し、次に結合に使用する列を選択します。

## 積集合 {#combine-intersection}

>[!CONTEXTUALHELP]
>id="acw_orchestration_intersection_reconciliation_options"
>title="積集合の紐付けオプション"
>abstract="「**紐付けタイプ**」を選択して、重複の処理方法を定義します。デフォルトでは、「**キー**」オプションがアクティブ化されます。つまり、アクティビティは、異なるインバウンドトランジションの要素が同じキーを持つ場合、1 つの要素のみを保持します。「**列の選択**」オプションを使用して、データの紐付けが適用される列のリストを定義します。"

**結合**&#x200B;アクティビティで、次の追加手順に従って&#x200B;**積集合**&#x200B;を設定します。

1. 「**紐付けタイプ**」を選択して、重複の処理方法を定義します。[和集合](#union)の節を参照してください。
1. 残りの母集団を処理するには、「**補集合を生成**」オプションをチェックします。補集合は、すべてのインバウンドアクティビティの結果の和集合から交差部分を差し引いたものです。次に、追加のアウトバウンドトランジションがアクティビティに追加されます。

## 除外 {#combine-exclusion}

>[!CONTEXTUALHELP]
>id="acw_orchestration_exclusion_options"
>title="除外ルール"
>abstract="必要に応じて、インバウンドテーブルを操作します。別のディメンションからターゲットを除外するには、このターゲットをメインターゲットと同じターゲットディメンションに返します。「除外ルール」セクションの「ルールを追加」をクリックし、ディメンションの変更条件を指定します。データの紐付けは、属性または結合を使用して実行されます。"

>[!CONTEXTUALHELP]
>id="acw_orchestration_combine_sets"
>title="結合するセットを選択"
>abstract="「**結合の設定**」セクションで、インバウンドトランジションから「**プライマリセット**」を選択します。これは、要素の除外元のセットです。これ以外のセットは、プライマリセットから除外する前の要素に一致します。"

>[!CONTEXTUALHELP]
>id="acw_orchestration_combine_exclusion"
>title="除外ルール"
>abstract="必要に応じて、インバウンドテーブルを操作します。別のディメンションからターゲットを除外するには、このターゲットをメインターゲットと同じターゲットディメンションに返します。「除外ルール」セクションの「ルールを追加」をクリックし、ディメンションの変更条件を指定します。データの紐付けは、属性または結合を使用して実行されます。"

>[!CONTEXTUALHELP]
>id="acw_orchestration_combine_complement"
>title="結合で補集合を生成"
>abstract="「補集合を生成」オプションの切替スイッチをオンにして、追加のトランジションで残りの母集団を処理します。"

**結合**&#x200B;アクティビティで、次の追加手順に従って&#x200B;**除外**&#x200B;を設定します。

1. 「**結合の設定**」セクションで、インバウンドトランジションから「**プライマリセット**」を選択します。これは、要素の除外元のセットです。これ以外のセットは、プライマリセットから除外する前の要素に一致します。
1. 必要に応じて、インバウンドテーブルを操作します。別のディメンションからターゲットを除外するには、このターゲットをメインターゲットと同じターゲットディメンションに返します。「**除外ルール**」セクションの「**ルールを追加**」をクリックし、ディメンションの変更条件を指定します。データの紐付けは、属性または結合を使用して実行されます。
1. 残りの母集団を処理するには、「**補集合を生成**」オプションをチェックします。[積集合](#intersection)の節を参照してください。

## 例 {#combine-examples}

次の例では、**結合**&#x200B;アクティビティが&#x200B;**和集合**&#x200B;を使用して、2 つのクエリ（18～27 歳のユーザーと 34～40 歳のユーザー）のすべてのプロファイルを取得しています。

![](../assets/workflow-union-example.png)

次の例は、2 つのクエリアクティビティの&#x200B;**積集合**&#x200B;を示しています。18～27 歳のプロファイルと、メールアドレスが指定されたプロファイルを取得します。

![](../assets/workflow-intersection-example.png)

次の&#x200B;**除外**&#x200B;例は、18～27 歳で、アドビのメールドメインを持つプロファイルをフィルタリングするように設定された 2 つのクエリを示しています。アドビのメールドメインを持つプロファイルが、最初のセットから除外されます。

![](../assets/workflow-exclusion-example.png)